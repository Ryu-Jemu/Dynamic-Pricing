# ================================================================
# 5G O-RAN 1-Cell  ·  3-Part Tariff  ·  2 Slices  ·  SB3 SAC
# ================================================================
# Every numeric value is either:
#   (a) standards-pinned  [TS 38.104 / TS 23.503], or
#   (b) calibrated to a named target statistic (see inline notes)
# ================================================================

# ── §1  Scenario ──
scenario:
  name: "5G_ORAN_1Cell_3PT"
  slices: ["URLLC", "eMBB"]

# ── §3.1  Time axis ──
time:
  steps_per_cycle: 30        # 1 step ≈ 1 day; 30 steps ≈ 1 month
  episode_cycles: 12         # 12 billing cycles per episode  (→ 360 steps)

# ── §4  Action bounds (5-D continuous) ──
action:
  F_U_min: 30000.0           # URLLC base fee min  (KRW/cycle)
  F_U_max: 90000.0
  F_E_min: 40000.0           # eMBB  base fee min
  F_E_max: 110000.0
  p_over_U_min: 500.0        # URLLC overage price min (KRW/GB)
  p_over_U_max: 5000.0
  p_over_E_min: 200.0        # eMBB  overage price min
  p_over_E_max: 3000.0
  rho_U_min: 0.05            # PRB share for URLLC — floor
  rho_U_max: 0.60            # PRB share for URLLC — ceiling

# ── §5  3-Part tariff allowances  [Grubb AER 2009][Nevo 2015][TS 23.503] ──
tariff:
  Q_U_gb: 5.0                # URLLC monthly allowance (GB)
  Q_E_gb: 50.0               # eMBB  monthly allowance (GB)

# ── §6  Traffic  [Nevo 2015 — usage coupled with billing] ──
traffic:
  URLLC:
    target_p50_gb_day: 0.15   # calibration target: median daily URLLC usage
    target_p90_gb_day: 0.50
    D_min_gb: 0.001
    D_max_gb: 5.0
  eMBB:
    target_p50_gb_day: 1.5
    target_p90_gb_day: 5.0
    D_min_gb: 0.01
    D_max_gb: 50.0

# ── §7  RAN / PRB capacity  [TS 38.104][Huang IoT-J 2020] ──
radio:
  bandwidth_mhz: 100         # [TS 38.104] Band n78
  scs_khz: 30                # [TS 38.104]
  prb_total: 273             # [TS 38.104] NRB for 100 MHz @ 30 kHz SCS
  C_total_gb_per_step: 50.0  # macro cell daily capacity proxy (GB/day)
  kappa_U: 1.2               # URLLC priority factor ≥ 1  [Huang 2020]

# ── §8  QoS / SLA violation ──
qos:
  alpha_congestion: 10.0     # sigmoid steepness
  lambda_U: 500000.0         # SLA penalty weight URLLC (KRW)
  lambda_E: 50000.0          # SLA penalty weight eMBB

# ── §9  Cost (Capex excluded) ──
cost:
  c_opex_per_user: 1200.0    # daily OPEX per active user ≈ 36 000 KRW/mo
  c_energy_per_gb: 50.0      # energy proxy per GB
  c_cac_per_join: 80000.0    # customer acquisition cost  [CLV_KUMAR]

# ── §10  Market — join / churn  [CHURN logit][ITU Teletraffic] ──
market:
  beta0_churn: -2.5          # intercept (calibrated → ~3 % monthly churn)
  beta_p_churn: 0.00003      # price sensitivity in logit
  beta_q_churn: 2.0          # QoS sensitivity
  beta_sw_churn: 1.5         # switching-cost weight
  beta0_join: -3.0           # intercept (calibrated → ~5 % monthly join)
  beta_p_join: 0.00002
  beta_q_join: 1.5
  mode: "stochastic"         # "stochastic" or "expectation"
  price_norm: 70000.0

# ── §11  CLV  [Gupta JSR 2006] ──
clv:
  horizon_months: 24
  discount_rate_monthly: 0.01
  enabled: true

# ── §13  Population ──
population:
  N_total: 500
  N_active_init: 200
  frac_urllc: 0.20
  segments:
    names: ["price_sensitive", "balanced", "qos_sensitive"]
    proportions: [0.30, 0.45, 0.25]
    price_sensitivity:   { price_sensitive: 1.5, balanced: 1.0, qos_sensitive: 0.6 }
    qos_sensitivity:     { price_sensitive: 0.5, balanced: 1.0, qos_sensitive: 1.8 }
    switching_cost:      { price_sensitive: 0.3, balanced: 0.5, qos_sensitive: 0.8 }

# ── §12  Training  [Haarnoja 2018 — SAC][SB3] ──
training:
  total_timesteps: 200000
  learning_rate: 0.0003
  batch_size: 256
  buffer_size: 100000
  gamma: 0.99
  tau: 0.005
  ent_coef: "auto"            # [SB3 SAC] automatic entropy tuning
  train_freq: 1
  gradient_steps: 1
  eval_freq: 10000
  n_eval_episodes: 5

# ── §3.2  Observation ──
observation:
  dim: 16
  clip_min: -10.0
  clip_max: 10.0

# ── Calibration targets ──
calibration:
  demand_tolerance: 0.10
  churn_target_monthly: 0.03
  join_target_monthly: 0.05
